# ──────────────────────────────────────────────────────────────────────────────
# Project: Industrial IoT Platform (Local Dev)
# File: docker/.env
# Purpose: Central place for Docker Compose environment variables so all
#          containers (Kafka, Zookeeper, Postgres, later app services) share
#          the same settings.
# ──────────────────────────────────────────────────────────────────────────────

# =========== General / Compose ===========
COMPOSE_PROJECT_NAME=iot_stack         # A short name Docker uses to prefix container/network names.

# =========== Kafka & Zookeeper ==========
KAFKA_BROKER_ID=1                      # Unique ID for the Kafka broker (we run 1 broker locally).
KAFKA_BROKERS=kafka:9092               # How other containers will reach Kafka inside the Docker network.
KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092        # Kafka listens on all interfaces inside its container.
KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092  # The address Kafka tells clients to use (service name:port).
KAFKA_ZK_CONNECT=zookeeper:2181        # Zookeeper host:port for Kafka to register with.

# Topics we will use later (documented in your spec).
TOPIC_SENSOR_READINGS=sensor-readings  # Raw events published by the ingestion service.
TOPIC_PROCESSED_METRICS=processed-metrics  # Enriched metrics produced by the stream processor.
TOPIC_ANOMALY_DETECTED=anomaly-detected   # Anomaly alerts produced by the stream processor.

# =========== PostgreSQL =================
POSTGRES_DB=iot                        # Database name for our app data (metrics/alerts).
POSTGRES_USER=iot_user                 # Database login username (local dev only).
POSTGRES_PASSWORD=changeme_local_only  # Database password (safe only for local dev).
POSTGRES_PORT=5432                     # Default PostgreSQL port.
POSTGRES_HOST=postgres                 # The container/service name other containers use to reach Postgres.

# =========== App Defaults (for later services; not used yet) ===========
INGEST_AUTH_TOKEN=dev-token            # Simple bearer token to protect ingestion API (dev only).
THREAD_POOL_SIZE=16                    # Default worker threads for Python services (processor/alerts).
ALERT_RETRY_MAX=5                      # Max retries for the alert service when dispatching alerts.